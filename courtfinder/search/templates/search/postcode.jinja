{% extends "layout/base.jinja" %}
{% load static %}

{% block page_title %}Search by postcode{% endblock %}

{% block content %}
<div id="global-breadcrumb" class="header-context">
  <ol role="breadcrumbs" class="group">
    <li><a href="{% url 'staticpages:home' %}">Home</a></li>
    <li><a href="{% url 'search:search-view' %}">Find a court or tribunal</a></li>
  </ol>
</div>
<div id="search-index-page" class="content inner cf">
  <header class="page-header">
    <h1>Search using your postcode</h1>
  </header>
{% if postcode == '' %}
  <section class="validation-error">
    <h2>Error</h2>
    <p>You did not enter a postcode. Please try again.</p>
  </section>
{% endif %}
{% if area_of_law == '' %}
  <section class="validation-error">
    <h2>Error</h2>
    <p>You did not enter a type of legal problem. Please try again.</p>
  </section>
{% endif %}
{% if error == 'noresults' or error == 'badpc' %}
  <section class="postcode-error validation-error">
    <h2>Error</h2>
    <p>Sorry, your postcode <strong>{{ postcode }}</strong> has not been found.<br />
      Please check if any letters or numbers are missing.</p>
  </section>
{% elif error == 'ni' %}
  <section class="postcode-error validation-error">
    <h2>Please note</h2>
    <p>Aside from immigration tribunals, this tool does not return results for Northern Ireland.
      Other courts and tribunals in Northern Ireland are handled by the Northern Ireland Courts and Tribunals Service.</p>
  </section>
{% endif %}

  <form method="get" action="results">
    <div class="form-block">
      <label for="postcode">
        <div class="form-hint">Use your full or part postcode, for example, HR5 or BN17 5DF.</div>
        <input id="postcode" type="text" name="postcode" value="{{ postcode|default:'' }}" autofocus/>
      </label>
    </div>
    <div class="form-block">
      <label for="aol-0" class="block-label form-block">
        <input id="aol-0" type="radio" name="area_of_law" value="All" checked=checked>
        <div class="form-label">All courts and tribunals</div>
      </label>
      <div class="form-line">Only courts and tribunals that deal with:</div>

      <div id="aols" class="form-block">
        {% for aol in areas_of_law %}
        <label for="aol-{{forloop.counter}}" class="block-label form-block aol-label">
          <input id="aol-{{forloop.counter}}" type="radio" name="area_of_law" value="{{aol.name}}" {% if aol.name == area_of_law %}checked{% endif %}>
          <div class="form-label">
            <span class="aol-name">{{aol.name}}: </span>
            <span class="aol-description">{{ aol.description }}</span>
          </div>
        </label>
        {% endfor %}
      </div>
    </div>
    <div class="actions">
    <button id="continue" class="button" type="submit">Continue</button>
  </div>
  </form>
</div>
{% endblock %}
